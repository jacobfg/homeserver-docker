{
  // Use recommended defaults
  extends: [
    "config:best-practices",
  ],

  // "autodiscover": true,
  // "autodiscoverFilter": ["jacobfg/homeserver-docker"],

  // "automerge": true,
  // Run on a monthly schedule to keep interruptions to a minimum,
  // but always open vulnerability-fixing pull requests immediately
  // "vulnerabilityAlerts": {
  //   "labels": ["security"],
  //   "schedule": "at any time"
  // },

  baseBranches: ["main"],

  // Add your custom labels to pull requests
  labels: ["dependencies", "bot"],

  // Avoid updating to unstable versions
  // "ignoreUnstable": true,
  // "stabilityDays": 7,

  /***** Docker settings *****/
  enabled: true,
  enabledManagers: ["docker-compose", "github-actions", "regex"],
  packageRules: [
    {
      matchDatasources: ["docker"],
      versioning: "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$",
    },
    // don't raise PR's managed manually
    {
      matchDatasources: ["docker"],
      matchPackageNames: [
        "ghcr.io/esphome/esphome",
      ],
      enabled: false,
    },
    {
      matchDatasources: ["docker"],
      matchPackageNames: [
        "spx01/blocky",
        "saspus/duplicacy-web",
        "b4bz/homer"
      ],
      "versioning": "regex:^v(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$",
    },
    {
      matchDatasources: ["docker"],
      matchPackageNames: ["nodered/node-red"],
      versioning: "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)-18-minimal$",
    },
    {
      matchDatasources: ["github-releases"],
      matchDepNames: ["tjhorner/upsy-desky"],
      versioning: "regex:^v(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)$"
    },
  ],

  customManagers: [
    {
      customType: 'regex',
      fileMatch: ["^README\\.md$"],
      matchStrings: [
        "^.* \\| (?<packageName>[^\\s].*) \\| (?<currentValue>v?\\d+\\.\\d+\\.\\d+) \\|",
      ],
      depNameTemplate: "{{depName}}-{{version}}",
      datasourceTemplate: "github-releases",
      extractVersionTemplate: "^(?<version>v?\\d+\\.\\d+\\.\\d+)$",
      // "versioningTemplate": "semver",
    }
  ],
}
